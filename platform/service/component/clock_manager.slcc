id: clock_manager
label: Clock Manager
package: platform
description: >
  The Clock Manager module provides configuration of the different oscillators and the device clock tree through
  CMSIS Configuration Wizard Annotations C header files. The module also provides an API to initialize the module
  and functions to perfom a variety of oscillator and clock related operations. This includes:
   - functions to fetch information about oscillators and clock branches frequency and precision.
   - functions to interface the CMU module fonctionality and features like enabling modules' bus clock,
     RCO calibration, retrieving or setting oscillator calibration values, output clocks on GPIO, etc.
category: Services|Clock Manager
quality: production
metadata:
  sbom:
    license: Zlib
provides:
  - name: clock_manager_device_init
  - name: device_init_lfrco
    condition: [clock_manager_device_init]
  - name: device_init_lfxo
    condition: [clock_manager_device_init]
  - name: device_init_hfrco
    condition: [clock_manager_device_init]
  - name: device_init_hfxo
    condition: [clock_manager_device_init]
  - name: device_init_usbpll
    condition: [clock_manager_device_init]
  - name: device_init_rffpll
    condition: [clock_manager_device_init]
  - name: device_init_clocks
    condition: [clock_manager_device_init]
  - name: device_init_dpll
    condition: [clock_manager_device_init]
  - name: clock_manager_init_internal
    condition: [device_series_3]
requires:
  - name: clock_manager_runtime
  - name: clock_manager_init_hal
  - name: status
root_path: platform/service/clock_manager
config_file:
  - path: config/EFX32XG21/sl_clock_manager_oscillator_config.h
    file_id: clock_manager_oscillator_config
    condition: [device_generic_family_efr32xg21]
  - path: config/EFX32XG21/sl_clock_manager_tree_config.h
    file_id: clock_manager_tree_config
    condition: [device_generic_family_efr32xg21]
  - path: config/EFX32XR21/sl_clock_manager_oscillator_config.h
    file_id: clock_manager_oscillator_config
    condition: [device_generic_family_efr32xr21]
  - path: config/EFX32XR21/sl_clock_manager_tree_config.h
    file_id: clock_manager_tree_config
    condition: [device_generic_family_efr32xr21]
  - path: config/EFX32XG22/sl_clock_manager_oscillator_config.h
    file_id: clock_manager_oscillator_config
    condition: [device_generic_family_efr32xg22]
  - path: config/EFX32XG22/sl_clock_manager_tree_config.h
    file_id: clock_manager_tree_config
    condition: [device_generic_family_efr32xg22]
  - path: config/EFX32XG22/sl_clock_manager_oscillator_config.h
    file_id: clock_manager_oscillator_config
    condition: [device_family_efm32pg22]
  - path: config/EFX32XG22/sl_clock_manager_tree_config.h
    file_id: clock_manager_tree_config
    condition: [device_family_efm32pg22]
  - path: config/EFX32XG23/sl_clock_manager_oscillator_config.h
    file_id: clock_manager_oscillator_config
    condition: [device_generic_family_efr32xg23]
  - path: config/EFX32XG23/sl_clock_manager_tree_config.h
    file_id: clock_manager_tree_config
    condition: [device_generic_family_efr32xg23]
  - path: config/EFX32XG23/sl_clock_manager_oscillator_config.h
    file_id: clock_manager_oscillator_config
    condition: [device_family_efm32pg23]
  - path: config/EFX32XG23/sl_clock_manager_tree_config.h
    file_id: clock_manager_tree_config
    condition: [device_family_efm32pg23]
  - path: config/EFX32XG24/sl_clock_manager_oscillator_config.h
    file_id: clock_manager_oscillator_config
    condition: [device_generic_family_efr32xg24]
  - path: config/EFX32XG24/sl_clock_manager_tree_config.h
    file_id: clock_manager_tree_config
    condition: [device_generic_family_efr32xg24]
  - path: config/EFX32XG25/sl_clock_manager_oscillator_config.h
    file_id: clock_manager_oscillator_config
    condition: [device_generic_family_efr32xg25]
  - path: config/EFX32XG25/sl_clock_manager_tree_config.h
    file_id: clock_manager_tree_config
    condition: [device_generic_family_efr32xg25]
  - path: config/EFX32XG26/sl_clock_manager_oscillator_config.h
    file_id: clock_manager_oscillator_config
    condition: [device_generic_family_efr32xg26]
  - path: config/EFX32XG26/sl_clock_manager_tree_config.h
    file_id: clock_manager_tree_config
    condition: [device_generic_family_efr32xg26]
  - path: config/EFX32XG26/sl_clock_manager_oscillator_config.h
    file_id: clock_manager_oscillator_config
    condition: [device_family_efm32pg26]
  - path: config/EFX32XG26/sl_clock_manager_tree_config.h
    file_id: clock_manager_tree_config
    condition: [device_family_efm32pg26]    
  - path: config/EFX32XG27/sl_clock_manager_oscillator_config.h
    file_id: clock_manager_oscillator_config
    condition: [device_generic_family_efr32xg27]
  - path: config/EFX32XG27/sl_clock_manager_tree_config.h
    file_id: clock_manager_tree_config
    condition: [device_generic_family_efr32xg27]
  - path: config/EFX32XG28/sl_clock_manager_oscillator_config.h
    file_id: clock_manager_oscillator_config
    condition: [device_generic_family_efr32xg28]
  - path: config/EFX32XG28/sl_clock_manager_tree_config.h
    file_id: clock_manager_tree_config
    condition: [device_generic_family_efr32xg28]
  - path: config/EFX32XG28/sl_clock_manager_oscillator_config.h
    file_id: clock_manager_oscillator_config
    condition: [device_family_efm32pg28]
  - path: config/EFX32XG28/sl_clock_manager_tree_config.h
    file_id: clock_manager_tree_config
    condition: [device_family_efm32pg28]
  - path: config/EFX32XG29/sl_clock_manager_oscillator_config.h
    file_id: clock_manager_oscillator_config  
    condition: [device_generic_family_efr32xg29]
  - path: config/EFX32XG29/sl_clock_manager_tree_config.h
    file_id: clock_manager_tree_config
    condition: [device_generic_family_efr32xg29]
source:
  - path: src/sl_clock_manager_init.c
include:
  - path: inc
    file_list:
      - path: sl_clock_manager_init.h
  - path: src
    file_list:
      - path: sli_clock_manager_init_hal.h
define:
  # The Auto-Band feature requires the existence of a radio configuration file.
  # If this symbol is not defined, Auto-Band will be ignored and 9xx band used.
  - name: SL_CLOCK_MANAGER_AUTO_BAND_VALID
    value: '1'
    condition:
    - a_radio_config
template_contribution:
  - name: component_catalog
    value: clock_manager
  - name: event_handler
    value:
      event: platform_init
      include: sl_clock_manager_init.h
      handler: sl_clock_manager_init
    priority: -9800
    condition: [sl_system]
validation_helper:
  - path: clock_manager_validation.lua
documentation:
    docset: gecko-platform
    document: platform-service/clock-manager
