project_name: btmesh_soc_switch_ctl_low_power_micriumos
package: Btmesh
label: Bluetooth Mesh - SoC Switch CTL Low Power Micrium OS
description: >
  An out-of-the-box Software Demo where the device acts as a switch using
  the Light CTL Client Model. It is optimized for low current consumption
  with disabled CLI, logging, and LCD. Push Button presses or CLI commands
  can control the lightness and color temperature of the LEDs on a remote device. 
  This example runs on top of Micrium OS.

  Note - this example is not compatible with the Dimming Control NLC Profile.

category: Bluetooth Mesh Examples
quality: production

filter:
  - name: "Wireless Technology"
    value: ["Bluetooth Mesh"]
  - name: "Device Type"
    value: ["SoC"]
  - name: "Project Difficulty"
    value: ["Advanced"]

component:
  - id: app_assert
  - id: app_button_press
  - id: app_timer
  - id: bootloader_interface
  - id: bt_post_build
  - id: btmesh_ctl_client
  - id: btmesh_factory_reset
  - id: btmesh_stack_gatt_prov_bearer
  - id: btmesh_lpn
  - id: btmesh_provisionee
  - id: btmesh_provisioning_decorator
  - id: btmesh_proxy
  - id: clock_manager
  - id: device_init
  - id: gatt_service_device_information
  - id: micriumos_kernel
  - id: mpu
  - id: rail_util_pti
  - id: simple_button_recommended_instance
  - id: simple_led_recommended_instance
  - id: sl_system
  - id: udelay

source:
  - path: app.c
  - path: app_micriumos.c
  - path: main.c

include:
  - path: .
    file_list:
    - path: app.h

config_file:
  - override:
      component: gatt_configuration
      file_id: gatt_configuration_file_id
    path: gatt_configuration.btconf
    directory: btconf
  - override:
      component: btmesh_dcd_configuration
      file_id: dcd_configuration_file_id
    path: dcd_config_low_power.btmeshconf
    directory: btmeshconf

readme:
  - path: ../../documentation/example/btmesh_soc_switch/readme_low_power_rtos.md

other_file:
  - path: ../../documentation/example/btmesh_soc_switch/readme_img0.png
  - path: ../../documentation/example/btmesh_soc_switch/readme_img1.png
  - path: ../../documentation/example/btmesh_soc_switch/readme_img2.png
  - path: ../../documentation/example/btmesh_soc_switch/readme_img3.png
  - path: ../../documentation/example/btmesh_soc_switch/readme_img4.png
  - path: ../../documentation/example/btmesh_soc_switch/readme_img5.png
  - path: ../../documentation/example/btmesh_soc_switch/readme_img6.png
  - path: ../../documentation/example/btmesh_soc_switch/readme_img7.png
  - path: ../../documentation/example/btmesh_soc_switch/readme_img8.png

configuration:
  - name: APP_BUTTON_PRESS_CONFIG_QUEUE_SIZE
    value: "4"
  - name: SL_BTMESH_LPN_POLL_TIMEOUT_CFG_VAL
    value: 120000
  - name: NVM3_DEFAULT_CACHE_SIZE
    value: 100
  - name: NVM3_DEFAULT_NVM_SIZE
    value: "0x6000"
  - name: OS_CFG_TMR_EN
    value: "1"
  - name: OS_CFG_DBG_EN
    value: "0"
  - name: OS_CFG_TS_EN
    value: "0"
  - name: OS_CFG_SCHED_ROUND_ROBIN_EN
    value: "0"
  - name: OS_CFG_STK_SIZE_MIN
    value: "48"
  - name: OS_CFG_Q_EN
    value: "1"
  - name: OS_CFG_MON_EN
    value: "0"
  - name: OS_CFG_STAT_TASK_EN
    value: "0"
  - name: OS_CFG_STAT_TASK_STK_CHK_EN
    value: "0"
  - name: OS_CFG_TASK_PROFILE_EN
    value: "0"
  - name: OS_CFG_TASK_Q_EN
    value: "0"
  - name: SL_BT_RTOS_HOST_STACK_TASK_STACK_SIZE
    value: "4000"
  - name: SL_BTMESH_PROVISIONEE_AUTO_RESET_DELAY
    value: "1"
  - name: SL_BTMESH_CONFIG_MAX_PROV_BEARERS
    value: "3"
  - name: SL_PSA_KEY_USER_SLOT_COUNT
    value: "0"
    condition:
      - psa_crypto
  - name: SL_SIMPLE_BUTTON_ALLOW_LED_CONFLICT
    value: "1"

tag:
  - hardware:board_only
  - hardware:component:button:1+
  - hardware:component:led:1+
  - hardware:device:flash:512
  - hardware:device:ram:64
  - hardware:rf:band:2400

ui_hints:
  highlight:
    - path: config/btconf/gatt_configuration.btconf
      focus: false
    - path: config/btmeshconf/dcd_config.btmeshconf
      focus: false
    - path: readme_low_power_rtos.md
      focus: true