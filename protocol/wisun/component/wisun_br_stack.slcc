id: "wisun_br_stack"
label: "Wi-SUN Border Router Stack"
description: >
  Provides Wi-SUN border router stack functionalities.
package: "wisun"
category: "Wi-SUN"
quality: "production"
root_path: "protocol/wisun/stack"

requires:
  - name: "device_supports_wisun"
  - name: "rail_lib_singleprotocol"
  - name: "rail_util_pa"
  - name: "rail_util_pti"
  - name: "cmsis_rtos2"
  - name: "nvm3"
  - name: "slist"
  - name: "sl_common"
  - name: "wisun_crypto"
  - name: "mbedtls_tls_server"
  - name: "wisun_br_implementation"
  - name: "wisun_stack_ffn"

recommends:
  - id: "wisun_br_common_library"

provides:
  - name: "wisun_br_stack"
  - name: "a_wisun_stack"

template_contribution:
  - name: "event_handler"
    value:
      event: "stack_init"
      include: "sl_wisun_stack.h"
      handler: "sl_wisun_stack_init"

  - name: component_catalog
    value: wisun_br_stack

include:
  - path: "inc/"
    file_list:
    - path: "sl_wisun_api.h"
    - path: "sl_wisun_events.h"
    - path: "sl_wisun_stack.h"
    - path: "sli_wisun_timer_service.h"
    - path: "sl_wisun_types.h"
    - path: "sl_wisun_version.h"
    - path: "sl_wisun_stack.h"
    - path: "sl_wisun_common.h"
    - path: "sli_wisun_internal_api.h"
    - path: "sl_wisun_connection_params_api.h"
    - path: "sl_wisun_lfn_params_api.h"
    - path: "sl_wisun_ip6string.h"
    - path: "border_router/sl_wisun_br_api.h"
    - path: "border_router/sl_wisun_br_connection_params_api.h"
    - path: "border_router/sl_wisun_br_lfn_params_api.h"
  - path: "inc/socket/"
    file_list:
    - path: "socket.h"
  - path: "inc/arpa/"
    file_list:
    - path: "inet.h"
  - path: "src/"
    file_list:
    - path: "sli_wisun_certificate.h"
    - path: "sl_wisun_msg_api.h"
    - path: "common/bits.h"
    - path: "common/endian.h"
    - path: "common/int24.h"
    - path: "common/iobuf.h"
    - path: "common/ns_list.h"
    - path: "common/ns_types.h"
    - path: "common/string_extra.h"
  - path: "src/border_router/"
    file_list:
    - path: "sl_wisun_br_msg_api.h"
  - path: "nanostack-stack/source/"
    file_list:
    - path: "security/protocols/sec_prot_certs.h"
    - path: "security/protocols/sec_prot_keys.h"
    - path: "security/eapol/kde_helper.h"

metadata:
  sbom:
    license: MSLA AND Apache-2.0
    upstream:
      name: Nanostack
      version: 14.0.0
      supplier: Pelion and affiliates
      url: https://github.com/ARMmbed/mbed-os/tree/9957e7b4ae4315e6d1d2bc064c469e69fb34ff78/features/nanostack