id: freertos
label: FreeRTOS
package: platform
description: >
  FreeRTOS kernel
category: RTOS|FreeRTOS
quality: production
metadata:
  sbom:
    license: MSLA
config_file:
  - path: util/third_party/freertos/config/series2/FreeRTOSConfig.h
    file_id: freertos_config
  - override:
      component: freertos
      file_id: freertos_config
    path: util/third_party/freertos/config/series3/FreeRTOSConfig.h
    condition: [device_series_3, device_cortexm]
source:
  - path: util/third_party/freertos/kernel/croutine.c
  - path: util/third_party/freertos/kernel/event_groups.c
  - path: util/third_party/freertos/kernel/list.c
  - path: util/third_party/freertos/kernel/queue.c
  - path: util/third_party/freertos/kernel/stream_buffer.c
  - path: util/third_party/freertos/kernel/tasks.c
  - path: util/third_party/freertos/kernel/timers.c
  - path: util/third_party/freertos/kernel/portable/SiliconLabs/tick_power_manager.c
    condition: [power_manager]
include:
  - path: util/third_party/freertos/kernel/include
    file_list:
      - path: atomic.h
      - path: croutine.h
      - path: deprecated_definitions.h
      - path: event_groups.h
      - path: FreeRTOS.h
      - path: list.h
      - path: message_buffer.h
      - path: mpu_prototypes.h
      - path: mpu_wrappers.h
      - path: portable.h
      - path: projdefs.h
      - path: queue.h
      - path: semphr.h
      - path: stack_macros.h
      - path: StackMacros.h
      - path: stream_buffer.h
      - path: task.h
      - path: timers.h
provides:
  - name: freertos
  - name: kernel
  - name: cmsis_rtos2
    condition: [device_cortexm]
  - name: cmsis_rtos2_port
    condition: [device_cortexm]
requires:
  - name: freertos_heap
  - name: sleeptimer
    condition: [power_manager]
  - name: component_catalog
    condition: [power_manager]
  - name: freertos_arch
  - name: code_classification
recommends:
  - id: freertos_heap_3
  - id: device_init
validation_helper:
  - path: util/third_party/freertos/script/freertos_validation.lua
template_contribution:
  - name: component_catalog
    value: freertos_kernel
  - name: component_catalog
    value: kernel
  - name: rte_components
    value: RTE_RTOS_FreeRTOS_CORE
    priority: -9000
  - name: rte_components
    value: RTE_RTOS_FreeRTOS_CONFIG_RTOS2
  - name: rte_components
    value: RTE_RTOS_FreeRTOS_COROUTINE
  - name: rte_components
    value: RTE_RTOS_FreeRTOS_EVENTGROUPS
  - name: rte_components
    value: RTE_RTOS_FreeRTOS_TIMERS
define:
  - name: SL_CODE_COMPONENT_FREERTOS_KERNEL
    value: freertos_kernel

